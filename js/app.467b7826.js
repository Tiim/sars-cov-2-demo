(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/sars-cov-2-demo/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0426":function(t,e,a){"use strict";var n=a("4eef"),r=a.n(n);r.a},"0a9c":function(t,e,a){},"4eef":function(t,e,a){},"4f6e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("h1",{staticClass:"title"},[t._v(" 2020 SARS-COV-19 Tracker ")]),a("div",{staticClass:"section"},[a("button",{class:{button:!0},on:{click:function(e){t.state="international"}}},[t._v(" International Statistics ")]),a("button",{class:{button:!0},on:{click:function(e){t.state="switzerland"}}},[t._v(" Switzerland Statistics ")])]),"switzerland"==t.state?a("WikiGraph"):t._e(),"international"==t.state?a("IntGraph"):t._e()],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.allData.length?a("div",[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCountryName,expression:"selectedCountryName"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCountryName=e.target.multiple?a:a[0]}}},t._l(t.allCountries,(function(e){return a("option",{key:e.geoId},[t._v(" "+t._s(e.countryName)+" ")])})),0)]),a("div",[t.selectedData.length?a("LaCartesian",{attrs:{autoresize:"",data:t.selectedData,width:.8*t.width}},[a("LaArea",{attrs:{prop:"totalCases",dot:"",label:"Total Cases"}}),a("LaArea",{attrs:{prop:"cases",dot:"",label:"New Cases"}}),a("LaArea",{attrs:{prop:"totalDeaths",dot:"",label:"Total Deaths"}}),a("LaArea",{attrs:{prop:"deaths",dot:"",label:"New Deaths"}}),a("la-x-axis",{attrs:{prop:"date",interval:Math.ceil(t.allData.length/20*3)}}),a("la-y-axis",{attrs:{interval:10}}),a("la-tooltip")],1):t._e()],1)]):a("div",{staticClass:"spinner-container"},[a("PulseLoader")],1)])},o=[],c=(a("4de4"),a("7db0"),a("d81d"),a("d3b7"),a("96cf"),a("1da1")),l=a("bf1a"),u=a("8a5d"),d={name:"GraphInt",components:{LaCartesian:l["a"],LaArea:l["b"],LaXAxis:l["d"],LaYAxis:l["e"],LaTooltip:l["c"],PulseLoader:u["a"]},data:function(){return{allCountries:[],selectedCountryName:"Switzerland",allData:[],width:screen.width}},computed:{selectedCountry:function(){var t=this;return this.allCountries.find((function(e){return e.countryName===t.selectedCountryName}))},selectedData:function(){var t=this;console.log(this.selectedCountry);var e={cases:0,deaths:0},a=this.allData.map((function(a){var n,r,i=null===(n=a[t.selectedCountry.geoId])||void 0===n?void 0:n.newCases,s=null===(r=a[t.selectedCountry.geoId])||void 0===r?void 0:r.newDeaths;return e.cases+=i||0,e.deaths+=s||0,{date:a.date,cases:i,deaths:s,totalCases:e.cases,totalDeaths:e.deaths}})).filter((function(t){return 0!==t.totalCases||0!==t.totalDeaths}));return a}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/Tiim/daily-coronavirus-stats/data/countries.json").then((function(t){return t.json()}));case 2:return t.allCountries=e.sent,e.next=5,fetch("https://raw.githubusercontent.com/Tiim/daily-coronavirus-stats/data/data.json").then((function(t){return t.json()}));case 5:t.allData=e.sent;case 6:case"end":return e.stop()}}),e)})))()}},p=d,f=(a("e162"),a("2877")),v=Object(f["a"])(p,s,o,!1,null,"6d3e161c",null),h=v.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SelectStats",{attrs:{data:t.data},on:{selection:t.selected}}),a("div",{staticClass:"chart-container"},[t.data.length?a("LaCartesian",{attrs:{autoresize:"",data:t.data,width:.8*t.width}},[t._l(t.values,(function(t){return a("LaArea",{key:t,attrs:{prop:t,dot:"",label:t}})})),a("la-x-axis",{attrs:{prop:"date",interval:Math.ceil(t.data.length/20*3)}}),a("la-y-axis",{attrs:{interval:10}}),a("la-tooltip")],2):a("div",{staticClass:"spinner-container"},[a("PulseLoader")],1)],1)],1)},b=[],_=(a("99af"),a("a434"),a("ddb0"),a("2909")),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._l(t.stats,(function(e){return a("button",{key:e,class:{item:!0,selected:t.selected.includes(e)},on:{click:function(a){return t.select(e)}}},[t._v(" "+t._s(e)+" ")])})),a("button",{staticClass:"item close-button",on:{click:function(e){t.isClosed=!t.isClosed}}},[t._v(" "+t._s(t.isClosed?"Expand":"Hide")+" ")])],2)},w=[],y=(a("caad"),a("b64b"),a("2532"),{name:"SelectStats",props:{data:{type:Array,required:!1}},data:function(){return{selected:["confirmedcases_new","confirmedcases_total"],isClosed:!0}},computed:{stats:function(){return this.data&&this.data.length?this.isClosed?this.selected:Object.keys(this.data[0]).filter((function(t){return!t.includes("date")&&!t.includes("sources")})):[]}},methods:{select:function(t){this.selected.includes(t)?this.selected=this.selected.filter((function(e){return e!==t})):this.selected.push(t),this.$emit("selection",this.selected)}}}),C=y,x=(a("0426"),Object(f["a"])(C,g,w,!1,null,"3f7a01e4",null)),O=x.exports,j=(a("a15b"),a("13d5"),a("ac1f"),a("5319"),a("1276"),a("ade3")),S=a("5530"),L=(a("25f0"),a("498a"),{});function k(t){for(var e,a=null!==(e=this.options)&&void 0!==e?e:{trim:!0,remove_n:!0},n=t.querySelectorAll("*"),r=0;r<n.length;r++){var i=n[r];"none"!=i.style.display&&"none"!=getComputedStyle(i,"display")||i.parentNode.removeChild(i)}var s=t.textContent||t.innerText;return!0===a.trim&&(s=s.trim()),!0===a.remove_n&&(s=s.replace(/\r?\n|\r/g," ")),/"/.test(s)&&(s=s.replace(/"/g,'""')),/\r|\n|"|,/.test(s)&&(s='"'+s+'"'),s}function T(t){for(var e=0,a=0,n=t.length;a<n;a++){var r=t[a].children.length;r>e&&(e=r)}return e}L.parseTable=function(t){for(var e=[],a=t.querySelectorAll("tr"),n=T(a),r={},i=0,s=a.length;i<s;i++){for(var o=a[i],c=[],l=o.querySelectorAll("th, td"),u=0,d=0;d<n;d++){var p=l[d],f=1,v=1;if("undefined"!==typeof p){var h=p.getAttribute("rowSpan");h&&(f=parseInt(h));var m=p.getAttribute("colSpan");m&&(v=parseInt(m))}for(var b=0;b<v;b++){while(r.hasOwnProperty(u.toString())){var _=r[u.toString()][1];c.push(_),r[u.toString()][0]-=1,0==r[u.toString()][0]&&delete r[u.toString()],u+=1}if("undefined"!==typeof p){var g=k.call(this,p);c.push(g)}f>1&&(r[u.toString()]=[f-1,g]),u+=1}}e.push(c)}return e};var A=L,D="https://en.wikipedia.org/w/api.php?action=parse&page=2020_coronavirus_pandemic_in_Switzerland&prop=text&section=3&format=json&origin=*";function N(){return M.apply(this,arguments)}function M(){return M=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(D).then((function(t){return t.json()}));case 2:return e=t.sent,a=e.parse.text["*"],n=E(a),t.abrupt("return",R(I($(n))));case 6:case"end":return t.stop()}}),t)}))),M.apply(this,arguments)}function E(t){var e=document.createElement("div");return e.innerHTML=t,A.parseTable(e)}function I(t){var e=t.shift().map((function(t){return P(t)})),a=t.shift().map((function(t){return P(t)}));return t.map((function(t){return t.reduce((function(t,n,r){return Object(S["a"])({},t,Object(j["a"])({},"".concat(e[r],"_").concat(a[r]),n))}),{})})).map((function(t){return Object(S["a"])({},t,{date:t.date_date})}))}function P(t){return t.toLowerCase().split("").filter((function(t){return"abcdefghijklmnopqrstuvwxyz".includes(t)})).join("")}function $(t){var e=t.shift();return t=t.map((function(t){return t.map(z)})),[e].concat(Object(_["a"])(t))}function z(t){return t=t.replace(/[[(]\d+[\])]/g,""),t.length?isNaN(parseInt(t))||t.includes("-")?t:parseInt(t):0}function R(t){var e=t.find((function(t){var e,a;return null===t||void 0===t||null===(e=t.date)||void 0===e||null===(a=e.includes)||void 0===a?void 0:a.call(e,"Confirmed")})),a=t.find((function(t){var e,a;return null===t||void 0===t||null===(e=t.date)||void 0===e||null===(a=e.includes)||void 0===a?void 0:a.call(e,"Recovered")})),n=t.find((function(t){var e,a;return null===t||void 0===t||null===(e=t.date)||void 0===e||null===(a=e.includes)||void 0===a?void 0:a.call(e,"Death")}));return{array:t.filter((function(t){return!isNaN(new Date(t.date).getTime())&&t.date})),confimed:e,recovered:a,death:n}}var G={name:"Chart",components:{LaCartesian:l["a"],LaArea:l["b"],LaXAxis:l["d"],LaYAxis:l["e"],LaTooltip:l["c"],SelectStats:O,PulseLoader:u["a"]},data:function(){return{values:["confirmedcases_new","confirmedcases_total"],width:screen.width,data:[]}},methods:{selected:function(t){var e;(e=this.values).splice.apply(e,[0,this.values.length].concat(Object(_["a"])(t)))}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:n=e.sent,console.log(n.array),(a=t.data).splice.apply(a,[0,t.data.length].concat(Object(_["a"])(n.array)));case 5:case"end":return e.stop()}}),e)})))()}},H=G,B=(a("944d"),Object(f["a"])(H,m,b,!1,null,"49bfa39b",null)),q=B.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[t._t("default")],2)]),a("div",{staticClass:"section has-text-centered"},[a("Footer")],1)],1)},W=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar has-shadow is-spaced",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item has-text-weight-bold",attrs:{href:"/"}},[t._v("Tim Bachmann")]),a("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"Menu"},on:{click:t.tapBurger}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])]),a("div",{class:{"navbar-menu":!0,"is-active":t.mobileMenuOpen}},[t._m(0)])])])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-start"},[a("a",{staticClass:"navbar-item",attrs:{href:"https://tiim.ch"}},[t._v(" Home ")]),a("a",{staticClass:"navbar-item",attrs:{target:"_blank",href:"https://twitter.com/TiimB"}},[t._v("Contact")])])}],V={name:"Header",data:function(){return{mobileMenuOpen:!1}},methods:{tapBurger:function(){this.mobileMenuOpen=!this.mobileMenuOpen},closeBurger:function(){this.mobileMenuOpen=!1}}},X=V,K=Object(f["a"])(X,Y,J,!1,null,null,null),Q=K.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("footer",{staticClass:"footer"},[a("div",{staticClass:"content"},[a("p",[t._v("©Tim Bachmann "+t._s(t.year))]),t._m(0),t._m(1)])])])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("i",[t._v(" Open source demo. Source data: "),a("br"),t._v(" Data for Switzerland: "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Switzerland"}},[t._v(" Wikipedia ")]),a("br"),t._v(" International data: "),a("a",{attrs:{href:"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"}},[t._v("ecdc.europa.eu")]),t._v(" via "),a("a",{attrs:{href:"https://github.com/Tiim/daily-coronavirus-stats"}},[t._v("Github Repo")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("i",[t._v(" View this website on "),a("a",{attrs:{href:"https://github.com/Tiim/Tiim.github.io"}},[t._v("GitHub")]),t._v("! ")])])}],tt={name:"Footer",data:function(){return{year:(new Date).getFullYear()}}},et=tt,at=Object(f["a"])(et,U,Z,!1,null,null,null),nt=at.exports,rt={name:"Layout",components:{Header:Q,Footer:nt}},it=rt,st=Object(f["a"])(it,F,W,!1,null,null,null),ot=st.exports,ct={name:"App",components:{IntGraph:h,WikiGraph:q,Layout:ot},data:function(){return{state:"international"}}},lt=ct,ut=Object(f["a"])(lt,r,i,!1,null,null,null),dt=ut.exports;a("8e1f");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(dt)}}).$mount("#app")},"8e1f":function(t,e,a){},"944d":function(t,e,a){"use strict";var n=a("0a9c"),r=a.n(n);r.a},e162:function(t,e,a){"use strict";var n=a("4f6e"),r=a.n(n);r.a}});
//# sourceMappingURL=app.467b7826.js.map